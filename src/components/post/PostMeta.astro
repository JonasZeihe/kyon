---
import type { Post } from '../../lib/content'
const { entry } = Astro.props as { entry: Post }
function fmt(d?: string) {
  if (!d) return ''
  const x = new Date(d)
  return Number.isNaN(x.getTime()) ? '' : x.toLocaleDateString('de-DE')
}
---

<div class="meta">
  <time datetime={entry.date}>{fmt(entry.date)}</time>
  {entry.updated && <span class="sep">·</span>}
  {
    entry.updated && (
      <span class="updated">aktualisiert {fmt(entry.updated)}</span>
    )
  }
  {entry.minutes ? <span class="sep">·</span> : null}
  {entry.minutes ? <span class="reading">{entry.minutes} min</span> : null}
  {
    entry.tags?.length ? (
      <ul class="tags">
        {entry.tags.map((t: string) => (
          <li>{t}</li>
        ))}
      </ul>
    ) : null
  }
</div>

<style>
  .meta {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
    font-size: 0.9rem;
    color: var(--c-text-subtle);
  }
  .sep {
    opacity: 0.6;
  }
  .tags {
    display: flex;
    gap: 8px;
    margin: 0 0 0 6px;
    padding: 0;
    list-style: none;
    flex-wrap: wrap;
  }
  .tags li {
    padding: 2px 8px;
    border: 1px solid var(--c-border);
    border-radius: 999px;
    background: color-mix(in oklab, var(--c-bg) 75%, transparent);
    font-size: 0.78rem;
  }
</style>
