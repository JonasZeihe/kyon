"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2405:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(5155),o=n(2115),i=n(7650),a=n(625),l=n(898),c=n(6438);let s=e=>{switch(e){case 1:return 1.25;case 2:return 1.75;default:return 1}},u=a.Ay.img.withConfig({componentId:"sc-54b60415-0"})(["max-width:100%;max-height:80vh;object-fit:contain;cursor:",";transform-origin:",";transform:",";transition:",";user-select:none;-webkit-user-drag:none;"],e=>{let{$isZoomed:t}=e;return t?"grab":"zoom-in"},e=>{let{$zoomOriginX:t,$zoomOriginY:n}=e;return"".concat(t,"% ").concat(n,"%")},e=>{let{$zoomLevel:t,$panX:n,$panY:r}=e;return"translate(".concat(n,"px, ").concat(r,"px) scale(").concat(s(t),")")},e=>{let{$isZoomed:t}=e;return t?"none":"transform 0.25s ease"});function d(e){let{src:t,alt:n="",onClose:i}=e,[a,l]=(0,o.useState)(0),[c,d]=(0,o.useState)(50),[f,h]=(0,o.useState)(50),[m,p]=(0,o.useState)(0),[v,g]=(0,o.useState)(0),[b,y]=(0,o.useState)(!1),[w,x]=(0,o.useState)(!1),k=(0,o.useRef)(null),C=a>0,E=(e,t)=>Math.max(Math.min(e,t),-t),j=(e,t)=>{k.current&&(k.current.dataset.startX=e-m,k.current.dataset.startY=t-v)},z=(e,t)=>{var n,r,o;let i=null==(n=k.current)?void 0:n.getBoundingClientRect();if(!i)return;let l=s(a),c=i.width*(l-1)/2,u=i.height*(l-1)/2,d=parseFloat((null==(r=k.current)?void 0:r.dataset.startX)||"0"),f=parseFloat((null==(o=k.current)?void 0:o.dataset.startY)||"0");p(E(e-d,c)),g(E(t-f,u))},L=()=>y(!1);return(0,o.useEffect)(()=>{let e=e=>{C&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),()=>{document.removeEventListener("touchmove",e)}},[C]),(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&i()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[i]),(0,o.useEffect)(()=>{let e=document.body.style.overflow;return C&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=e}},[C]),(0,r.jsx)(u,{ref:k,src:t,alt:n,draggable:!1,$zoomLevel:a,$zoomOriginX:c,$zoomOriginY:f,$panX:m,$panY:v,$isZoomed:C,onClick:e=>{var t;if(e.preventDefault(),w)return void x(!1);let n=null==(t=k.current)?void 0:t.getBoundingClientRect();if(!n)return;let r=(e.clientX-n.left)/n.width*100,o=(e.clientY-n.top)/n.height*100;a<2?(d(r),h(o),l(e=>e+1)):(l(0),p(0),g(0))},onMouseDown:e=>{C&&(e.preventDefault(),y(!0),j(e.clientX,e.clientY))},onMouseMove:e=>{b&&(x(!0),z(e.clientX,e.clientY))},onMouseUp:L,onMouseLeave:L,onTouchStart:e=>{if(!C)return;e.preventDefault(),y(!0);let t=e.touches[0];j(t.clientX,t.clientY)},onTouchMove:e=>{if(!b)return;e.preventDefault();let t=e.touches[0];z(t.clientX,t.clientY)},onTouchEnd:L})}let f=(0,a.i7)(["from{opacity:0}to{opacity:1}"]),h=a.Ay.div.withConfig({componentId:"sc-c95e2c1a-0"})(["position:fixed;inset:0;z-index:14000;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.9);animation:"," 0.3s ease-out;"],f),m=a.Ay.div.withConfig({componentId:"sc-c95e2c1a-1"})(["max-width:95vw;max-height:95vh;display:inline-block;"]),p=a.Ay.video.withConfig({componentId:"sc-c95e2c1a-2"})(["max-width:95vw;max-height:95vh;display:block;object-fit:contain;"]),v=a.Ay.button.withConfig({componentId:"sc-c95e2c1a-3"})(["position:fixed;top:20px;right:20px;width:44px;height:44px;border-radius:50%;font-size:1.3rem;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;z-index:14100;background:rgba(255,255,255,0.9);transition:background 0.2s ease,transform 0.2s ease;&:hover{background:rgba(231,76,60,0.95);transform:scale(1.05);}"]),g=a.Ay.button.withConfig({componentId:"sc-c95e2c1a-4"})(["position:fixed;top:50%;"," transform:translateY(-50%);width:44px;height:44px;border-radius:50%;font-size:1.3rem;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;z-index:14100;background:rgba(0,0,0,0.6);color:#fff;transition:background 0.2s ease,transform 0.2s ease;&:hover{background:rgba(0,0,0,0.8);transform:scale(1.05);}"],e=>{let{$direction:t}=e;return"left"===t?"left: 20px;":"right: 20px;"});function b(e){let{media:t,currentIndex:n=0,onClose:a}=e,[s,u]=(0,o.useState)(n),f=t.length>1,b=(0,o.useMemo)(()=>"undefined"!=typeof document,[]),y=(0,o.useRef)(null),w=(0,o.useRef)(null),x=(0,o.useRef)(null),k=(0,o.useCallback)(e=>u(n=>(n+e+t.length)%t.length),[t.length]),C=(0,o.useCallback)(e=>{if("Tab"!==e.key)return;let t=y.current;if(!t)return;let n=Array.from(t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e=>!e.hasAttribute("disabled")&&-1!==e.tabIndex);if(0===n.length)return;let r=n[0],o=n[n.length-1],i=document.activeElement;e.shiftKey?i!==r&&t.contains(i)||(o.focus(),e.preventDefault()):i===o&&(r.focus(),e.preventDefault())},[]),E=(0,o.useCallback)(e=>{"Escape"===e.key&&a(),"ArrowLeft"===e.key&&f&&k(-1),"ArrowRight"===e.key&&f&&k(1),"Tab"===e.key&&C(e)},[a,f,k,C]);(0,o.useEffect)(()=>{if(!b)return;x.current=document.activeElement;let e=document.body.style.overflow;document.body.style.overflow="hidden",window.addEventListener("keydown",E);let t=setTimeout(()=>{var e;return null==(e=w.current)?void 0:e.focus()},0),n=e=>e.preventDefault();return document.addEventListener("touchmove",n,{passive:!1}),()=>{var r,o;clearTimeout(t),document.body.style.overflow=e,window.removeEventListener("keydown",E),document.removeEventListener("touchmove",n),null==(o=x.current)||null==(r=o.focus)||r.call(o)}},[b,E]);let{ref:j,...z}=(0,c.uh)({onSwipedLeft:()=>f&&k(1),onSwipedRight:()=>f&&k(-1),trackMouse:!0}),L=(0,o.useCallback)(e=>{y.current=e,"function"==typeof j&&j(e)},[j]);if(!b)return null;let{type:S,src:A,alt:M}=t[s];return i.createPortal((0,r.jsxs)(h,{ref:L,role:"dialog","aria-modal":"true","aria-label":"Media viewer",onClick:a,...z,children:[(0,r.jsx)(m,{onClick:e=>e.stopPropagation(),children:"image"===S?(0,r.jsx)(d,{src:A,alt:M,onClose:a}):(0,r.jsx)(p,{src:A,controls:!0,autoPlay:!0,"aria-label":M||"Video ".concat(s+1)})}),(0,r.jsx)(v,{ref:w,onClick:a,"aria-label":"Close dialog",children:(0,r.jsx)(l.QCr,{size:20})}),f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{$direction:"left",onClick:e=>{e.stopPropagation(),k(-1)},"aria-label":"Previous media",children:(0,r.jsx)(l._Jj,{size:20})}),(0,r.jsx)(g,{$direction:"right",onClick:e=>{e.stopPropagation(),k(1)},"aria-label":"Next media",children:(0,r.jsx)(l.X6T,{size:20})})]})]}),document.body)}}}]);